<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/page-er/page-er.html">




<polymer-element name="pager-test" router="{{router}}" attributes="pathArg1 queryParam1 data" >
    <template>
        <sidebar-layout selected="attendance-view">
            <div class="container">
                <page-er perpage="5"></page-er>

                <table id="mytable"  style="alignment-baseline: baseline;
                       alignment-adjust: central;  
                       text-align: center; 
                       font-style: oblique;
                       display: inline-block; 
                       resize: both; 
                       border: 2px solid #006;
                       border-collapse: collapse; 
                       padding: 2%;
                       width: 60%">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Item name</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                    <template id="items" repeat="{{items}}">
                        <tr>
                            <td>{{id}}</td>
                            <td>{{name}}</td>
                            <td>{{description}}</td>
                        </tr>
                    </template>
                    </tbody>
                </table>


                <select name="options" id="options">
                    <option value="5">5</option>
                    <option value="10">10</option>
                    <option value="15">15</option>
                    <option value="20">20</option>
                    <option value="25">25</option>
                </select>
                <span>per page</span>

            </div>
        </sidebar-layout>
    </template>
    <script>
        
        Polymer('pager-test', {
            ready : function() {
                // Select the grid/table where your main data will appear
                var t = document.querySelector("#items");

                // Select the paginator to use with this element
                var m = document.querySelector("page-er");

                // Select options
                var s = document.querySelector("#options");

                // Create a model we will populate with data
                var model = {
                    items: []
                };

                // As this is an example, populate some sample data inside
                for (var i = 1; i < 50; i++) {
                    model.items.push({
                        id: i,
                        name: "Item "+ i,
                        description: "description " + i
                    });
                }

                document.addEventListener('polymer-ready', function() {
                    // 1. Pass as `data` the set of data we want the
                    // paginator to paginate
                    m.data = model.items;
                });

                document.addEventListener('pager-data', function(e) {
                    // 2. Update the current template/view with our
                    // paginated set of data. `pager-data` is fired
                    // when this has completed
                    t.model = { items: e.detail.data };
                });

                // 3. Anytime our paged set changes, update the view
                document.addEventListener('pager-change', function(e) {
                    t.model = { items: e.detail.data };
                });

                //                this.$.options.addEventListener('change', function(e){
                //                    m.perpage = parseInt(this.options[this.selectedIndex].value, 10);
                //                    m.currentpage = 0;
                //                });
                //                pager.data = this.data;
            }
        
        });
        
    </script>
</polymer-element>